(async()=>{"use strict";function t(t){return document.querySelectorAll(t)}function e(t){return t<5?0:t<12?1:t<25?2:t<50?3:t<100?4:5}let n=!1;t("form")[0].onsubmit=(async r=>{if(r.preventDefault(),n)return;const l=t(".holder")[0],o=t(".container")[0];n=!0,l.style.opacity=1,l.style.zIndex=10,o.style.filter="blur(2px)";const a=await async function(t){return await fetch("./fetch.php",{method:"POST",body:"name="+t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(t=>t.json())}(t("input")[0].value);t("p")[0].innerHTML=`<img src="assets/img/ok${e(a.length)}.png" alt="OK${e(a.length)}" style="vertical-align: middle"> Your longest streak is ${a.length} tokens`;let s="<th>ID</th><th>Token</th><th>Reason</th><th>Issuer</th><th>Date</th>";a.forEach(t=>{const e=[t.id,t.title,t.reason,t.giver_name,new Date(1e3*t.event_date).toLocaleString("en-GB")];s+=`<tr><td>${e.join("</td><td>")}</td></tr>`}),t("table")[0].innerHTML=s,n=!1,l.style.opacity=0,l.style.zIndex=-1,o.style.filter="blur(0px)"})})();